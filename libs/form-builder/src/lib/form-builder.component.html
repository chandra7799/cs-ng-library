<ng-container *ngIf="!!configuration && configuration?.controls as controls">
  <ng-container *ngIf="configuration?.layout as layout">
    <!-- Main container -->
    <div [ngClass]="layout['container'] || 'container-fluid'">
      <ng-container *ngFor="let row of layout | omit: ['container'] | keysIn">
        <form [formGroup]="formGroup">
          <!-- Row container -->
          <div class="row">
            <ng-container
              *ngFor="let col of layout[row] | omit: ['container'] | keysIn"
            >
              <ng-container *ngIf="layout[row][col] | omit: [''] as colValue">
                <!-- Col container -->
                <div [ngClass]="[colValue?.width] || 'col'">
                  <div class="form-group">
                    <label for="">{{ controls[col]['label'] }}</label>

                    <input
                      class="form-control"
                      [type]="controls[col]['inputType']"
                      [formControlName]="col"
                    />
                  </div>
                </div>
              </ng-container>
            </ng-container>
          </div>
        </form>
      </ng-container>
    </div>
  </ng-container>
</ng-container>

<p>{{ formGroup.value | json }}</p>
